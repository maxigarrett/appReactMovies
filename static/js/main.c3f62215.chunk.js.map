{"version":3,"sources":["components/MovieContainer.module.css","components/FormMovieSearch.module.css","pages/MovieDescription.module.css","components/MessageErrorMovieNoSearch.module.css","components/MovieList.jsx","helper/helHttp.js","components/Loader.js","components/FormMovieSearch.jsx","components/MessageErrorMovieNoSearch.jsx","components/MovieContainer.jsx","pages/MovieDescription.jsx","App.js","reportWebVitals.js","index.js","components/MovieList.module.css"],"names":["module","exports","MovieList","movie","id","img","poster_path","className","styles","movieList","to","movieImg","src","alt","movieTitle","title","get","url","a","option","headers","Authorization","fetch","then","data","json","catch","err","console","log","Loader","initialFormSearch","search","FormMovieSearch","setMovies","setPageNumeration","useState","form","setForm","history","useHistory","onSubmit","e","preventDefault","alert","push","style","inputSearchMovie","type","name","onChange","target","value","MessageErrorMovieNoSearch","paragraph_no_movie","MovieContainer","movies","pageNumeration","hasMore","setHashMore","useLocation","movieSearchParams","URLSearchParams","useEffect","movieSearch","prevMovies","concat","results","page","total_pages","length","dataLength","next","prevPage","loader","movieContainer","map","MovieDescription","idMovie","useParams","movieDetail","setMovieDetail","imgDetails","stylesMovieDescription","section","original_title","description","overview","App","header","main","exact","path","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.c3f62215.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"MovieContainer_header__3VCDI\",\"movieList\":\"MovieContainer_movieList__87G0o\",\"movieContainer\":\"MovieContainer_movieContainer__1XLcd\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"form\":\"FormMovieSearch_form__Iapma\",\"inputSearchMovie\":\"FormMovieSearch_inputSearchMovie__1y4RU\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"section\":\"MovieDescription_section__1wj_g\",\"description\":\"MovieDescription_description__E3bG7\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"paragraph_no_movie\":\"MessageErrorMovieNoSearch_paragraph_no_movie__2ukeV\"};","import { Link } from \"react-router-dom\";\r\nimport styles from \"./MovieList.module.css\";\r\nexport const MovieList = ({ movie, id }) => {\r\n  //   console.log(movie);\r\n  const img = `https://image.tmdb.org/t/p/w200/${movie.poster_path}`;\r\n  // console.log(img)\r\n  return (\r\n    <li className={styles.movieList}>\r\n      <Link to={`/info/${id}`} className={styles.movieList}>\r\n        <img className={styles.movieImg} src={img} alt=\"img\" />\r\n        <div>\r\n          <p className={styles.movieTitle}>{movie.title}</p>\r\n        </div>\r\n      </Link>\r\n    </li>\r\n  );\r\n};\r\n","export const get = async (url) => {\r\n  const option = {\r\n    headers: {\r\n      Authorization:\r\n        \"Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiI2ZmVjYjZhZmFhMGU0MDZhNzYxNzU5OTc5NjZhMDkxOSIsInN1YiI6IjYxNTY0NTMwZjA0ZDAxMDA5MWQxZjBhNCIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.hP1dlZP6UKHHzpjDy0qgmpccA9qG1MNND0Ggts86Z7w\",\r\n      \"Content-Type\": \"application/json;charset=utf-8\",\r\n    },\r\n  };\r\n\r\n  return await fetch(url, option)\r\n    .then((data) => data.json())\r\n    .catch((err) => console.log(err));\r\n};\r\n","import React from 'react';\r\nimport './Loader.css';\r\nexport const Loader=()=>{\r\n    return(\r\n        <>\r\n            <div className=\"lds-ring\">\r\n                <div></div>\r\n                <div></div>\r\n                <div></div>\r\n            </div>\r\n        </>\r\n    )\r\n}","import React from \"react\";\r\nimport { useState } from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport style from \"./FormMovieSearch.module.css\";\r\nconst initialFormSearch = {\r\n  search: \"\",\r\n};\r\nexport const FormMovieSearch = ({ setMovies, setPageNumeration }) => {\r\n  const [form, setForm] = useState(initialFormSearch);\r\n  const history = useHistory();\r\n\r\n  const handelChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setMovies([]);\r\n    setPageNumeration(1);\r\n    setForm({\r\n      ...form,\r\n      [name]: value,\r\n    });\r\n    history.push(`?search=${value}`);\r\n  };\r\n\r\n  const handelSubmit = (e) => {\r\n    e.preventDefault();\r\n    if (!form.search || form.search === \"\")\r\n      return alert(\"ingrese algun dato a buscar\");\r\n\r\n    //reseteamos las variable para que no concatene lo que hay con lo nuevo buscado\r\n    // setMovies([]); si limpio el array no me muestra la pelicula cuando el usuario da clic en buscar o enter\r\n    setPageNumeration(1);\r\n\r\n    history.push(`?search=${form.search}`);\r\n  };\r\n  return (\r\n    <form onSubmit={handelSubmit} className={style.form}>\r\n      <input\r\n        className={style.inputSearchMovie}\r\n        type=\"text\"\r\n        name=\"search\"\r\n        onChange={handelChange}\r\n        value={form.search}\r\n      />\r\n    </form>\r\n  );\r\n};\r\n","import style from \"./MessageErrorMovieNoSearch.module.css\";\r\nexport const MessageErrorMovieNoSearch = () => (\r\n  <p className={style.paragraph_no_movie}>NO SE ENCONTRARON PELICULAS</p>\r\n);\r\n","import { useLocation } from \"react-router\";\r\nimport { MovieList } from \"./MovieList\";\r\nimport { useEffect, useState } from \"react\";\r\nimport { get } from \"../helper/helHttp\";\r\nimport styles from \"./MovieContainer.module.css\";\r\nimport InfiniteScroll from \"react-infinite-scroll-component\";\r\nimport { Loader } from \"./Loader\";\r\nimport { FormMovieSearch } from \"./FormMovieSearch\";\r\nimport { MessageErrorMovieNoSearch } from \"./MessageErrorMovieNoSearch\";\r\n\r\nexport const MovieContainer = () => {\r\n  const [movies, setMovies] = useState([]);\r\n  const [pageNumeration, setPageNumeration] = useState(1);\r\n  const [hasMore, setHashMore] = useState(true);\r\n\r\n  // NO SE PUEDE USAR useLocation JUNTO A LAS RUTAS POR eso LAS TRASLADE A APP.JS\r\n  let location = useLocation();\r\n  let { search } = location;\r\n  let query = new URLSearchParams(search);\r\n  const movieSearchParams = query.get(\"search\");\r\n  // console.log(movieSearchParams)\r\n\r\n  useEffect(() => {\r\n    let movieSearch = movieSearchParams\r\n      ? `https://api.themoviedb.org/3/search/movie?query=${movieSearchParams}&page=${pageNumeration}`\r\n      : `https://api.themoviedb.org/3/discover/movie?page=${pageNumeration}`;\r\n\r\n    // hacemos lo mismo dentrode setMovie hacemos una funcion para rescatar el valor anterior\r\n    //y lo concatenamos el siguiente para que muerte las peliculas cuando se cargue la pag y\r\n    //la segunda ,tercera y asi se van concatenando\r\n    get(movieSearch)\r\n      .then((data) => {\r\n        setMovies((prevMovies) => prevMovies.concat(data.results));\r\n        //caundo la pagina no sea menor al total de pag dara false y se ocultara el loading porque\r\n        //el hashmore esta en false\r\n        setHashMore(data.page < data.total_pages);\r\n      })\r\n      .catch((err) => console.log(err));\r\n  }, [movieSearchParams, pageNumeration]);\r\n\r\n  if (!movies) return;\r\n\r\n  //    console.log(pageNumeration)\r\n  return (\r\n    <>\r\n      <FormMovieSearch\r\n        setMovies={setMovies}\r\n        setPageNumeration={setPageNumeration}\r\n      />\r\n      {movies.length === 0 ? (\r\n        <>\r\n          <MessageErrorMovieNoSearch />\r\n          <Loader />\r\n        </>\r\n      ) : (\r\n        //libreria de react para usar un scroll infinito por si vienen muchas paginas de peliculas\r\n        <InfiniteScroll\r\n          //le pasamos al infine scroo la cantidad actual de elementos del arreglo de peliculas\r\n          dataLength={movies.length}\r\n          // simpre que querramos actualizar el estado a partirde un estado anterior en este caso es 1\r\n          //utilisaremos una funcion porque al actualizar el estado se hace de forma asincrona y si tenemos\r\n          //varias act de estado dara algun fallo o no funcionara de la forma que queremos por eso actualisamos\r\n          //en forma de funcion anonima en ves de setPageNumeration(pageNumeration +1) es mejor utilisar\r\n          //setPageNumeration(prevPage=>prevPage+1)\r\n\r\n          next={() => setPageNumeration((prevPage) => prevPage + 1)} //cuando lleguemos al final de la pag suma 1 porque el next se ejcuta cuando llega al final\r\n          //de el listado del array le sumamos uno y se lo pasamos a la peticion fetch\r\n          hasMore={hasMore}\r\n          loader={<Loader />}\r\n        >\r\n          <ul className={styles.movieContainer}>\r\n            {/*componente li*/}\r\n            {movies.map((movie) => (\r\n              <MovieList key={movie.id} movie={movie} id={movie.id} />\r\n            ))}\r\n          </ul>\r\n        </InfiniteScroll>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n","import { useState, useEffect } from \"react\";\r\nimport { useParams } from \"react-router\";\r\n// import { useEffect } from \"react/cjs/react.development\";\r\nimport { get } from \"../helper/helHttp\";\r\nimport styles from \"../components/MovieList.module.css\";\r\nimport stylesMovieDescription from \"./MovieDescription.module.css\";\r\nexport const MovieDescription = () => {\r\n  //capturamos el id de la url al hacer clic en una pelicula\r\n  const { idMovie } = useParams();\r\n  const [movieDetail, setMovieDetail] = useState(null);\r\n  const url = `https://api.themoviedb.org/3/movie/${idMovie}}`;\r\n  useEffect(() => {\r\n    get(url).then((data) => {\r\n      console.log(data);\r\n      setMovieDetail(data);\r\n    });\r\n  }, [url]);\r\n  if (!movieDetail) return null;\r\n\r\n  const imgDetails = `https://image.tmdb.org/t/p/w200/${movieDetail.poster_path}`;\r\n  return (\r\n    <section className={`${stylesMovieDescription.section}`}>\r\n      <div>\r\n        {/* <span>{movieDetail.original_language}</span>  */}\r\n        <img src={imgDetails} className={styles.movieImg} alt=\"img\" />\r\n        <div>\r\n          <p>{movieDetail.original_title}</p>\r\n        </div>\r\n      </div>\r\n      <div className={`${stylesMovieDescription.description}`}>\r\n        <strong>Description: </strong>\r\n        {movieDetail.overview}\r\n      </div>\r\n    </section>\r\n  );\r\n};\r\n","import { BrowserRouter as Router, Switch, Route, Link } from \"react-router-dom\";\nimport styles from \"./components/MovieContainer.module.css\";\nimport { MovieContainer } from \"./components/MovieContainer\";\nimport { MovieDescription } from \"./pages/MovieDescription\";\n\n/**\n *\n * La solución es simple, solo agregue otra capa de <React.Fragment>después <Switch>. Espero eso ayude.\n */\nfunction App() {\n  return (\n    <div>\n      <Router>\n        <header className={styles.header}>\n          <Link className={styles.movieList} to=\"/appReactMovies\">\n            Movies\n          </Link>\n        </header>\n        <Switch>\n          {/*tira un warning que con este fragment se soluciona*/}\n          <>\n            <main className={`${styles.main}`}>\n              <Route exact path=\"/appReactMovies\">\n                <MovieContainer />\n              </Route>\n\n              <Route exact path=\"/info/:idMovie\">\n                <MovieDescription />\n              </Route>\n            </main>\n          </>\n        </Switch>\n      </Router>\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"movieList\":\"MovieList_movieList__2Kax7\",\"movieImg\":\"MovieList_movieImg__2abXL\",\"movieTitle\":\"MovieList_movieTitle__2KZ43\"};"],"sourceRoot":""}